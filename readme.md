# Телефонный справочник на PHP

Простое веб-приложение для загрузки Excel-файла (.xlsx) с данными сотрудников и отображения их в виде красивого телефонного справочника.

## Особенности

- Загрузка Excel-файла через модальное окно с поддержкой **drag-and-drop**.
- Автоматическое распознавание **заголовков отделов** (строка, где заполнена только колонка A).
- Данные сохраняются в файл `data.json` — справочник остаётся доступным даже после перезагрузки страницы.
- Обновление таблицы **без перезагрузки страницы** (AJAX + Fetch API).
- Красивое оформление на Bootstrap 5:
    - Заголовки отделов — жирным шрифтом, по центру, на всю ширину таблицы.
    - Responsive таблица.
- Полная поддержка кириллицы (UTF-8).
- Не требует базы данных — всё работает на файлах.

## Структура Excel-файла

Файл должен иметь следующие колонки (начиная со второй строки, первая — заголовки):

| A (ФИО)              | B (Должность)     | C (Телефон)       |
|----------------------|-------------------|-------------------|
| Отдел продаж         |                   |                   | ← только A заполнена = заголовок отдела
| Иванов И.И.          | Менеджер          | +7 (999) 123-45-67 |
| Петрова А.С.         | Специалист        | +7 (999) 123-45-68 |
| Отдел разработки     |                   |                   | ← заголовок отдела
| Сидоров В.В.         | Программист       | +7 (999) 987-65-43 |

- Пустые строки игнорируются.
- Если в строке заполнена только колонка A — это считается названием отдела.

## Требования

- PHP ≥ 8.1 (рекомендуется 8.3)
- Расширение PHP: `fileinfo`, `mbstring`, `zip`, `gd` (обычно уже включены)
- Composer
- Веб-сервер (Apache/Nginx) или встроенный сервер PHP (`php -S`)

## Установка

1. Склонируйте или скачайте проект в папку веб-сервера.

2. Установите зависимости через Composer:
   ```bash
   composer install
   ```
3. Убедитесь, что у PHP есть права на запись в корневую папку проекта (для создания/записи data.json).
4. Запустите через встроенный PHP-сервер:
      ```bash
   php -S localhost:8000
   ```
## Установка
1. Нажмите кнопку "Загрузить Excel-файл".
2. Перетащите .xlsx файл в зону или выберите его вручную.
3. Нажмите "Загрузить".
4. Таблица обновится мгновенно.
5. После перезагрузки страницы данные останутся (берутся из data.json).

Чтобы обновить справочник — просто загрузите новый файл (старый data.json перезапишется).

## Файлы проекта
- **index.php** — главная страница с таблицей и модальным окном загрузки.
- **upload.php** — обработчик загрузки и парсинга Excel (использует PhpSpreadsheet).
- **data.json** — создаётся автоматически, хранит данные справочника.
- **vendor/** — зависимости Composer (PhpSpreadsheet).
- **node_modules/** — Bootstrap 5 (локально, для оффлайн-работы).

## Безопасность
- Приложение предназначено для локального/внутреннего использования.
- Проверяется расширение файла (.xlsx).
- Все выводимые данные экранируются через htmlspecialchars().
- Для публичного использования рекомендуется добавить аутентификацию.

## Возможные улучшения (идеи для развития)
- Добавить поиск по таблице (JavaScript).
- Сортировка колонок.
- Экспорт обратно в Excel.
- Редактирование записей через интерфейс.
- Поддержка нескольких справочников.
- Переход на MySQL для больших объёмов данных.

## Быстрый запуск в Docker (рекомендуемый способ)
1. Установите Docker из официального репозитория;
2. Выполните в нужную дириктори команду  git clone;
3. Пройдите в скопированную дерикторию и выполните в консоле:
```bash
docker-compose up -d   # -d = в фоновом режиме (не висит в терминале)
```
4. Откройте в браузере: http://localhost:8080 (Или любой другой порт, который вы укажите в файлах настройки);